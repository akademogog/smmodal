function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var o=0;o<t.length;o++){var i=t[o];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function _createClass(e,t,o){return t&&_defineProperties(e.prototype,t),o&&_defineProperties(e,o),e}var smModals=[],overModal=[],SmModal=function(){function t(e){_classCallCheck(this,t);this.modalSettingsDefault={closeSelector:".modal-close",modalSpeed:500,openAnimate:"smFade",closeAnimate:"smFade",transitionTimingFunction:"ease",backgroundBlur:!1,backgroundBlurValue:"5px",overlay:"background-color: rgba(0, 0, 0, 0.7)",verticalCenter:!0,closeEsc:!0},this.makeModal(e)}return _createClass(t,[{key:"makeModal",value:function(e){var t=this;this.beforeOpenVar=!1,this.afterOpenVar=!1,this.beforeCloseVar=!1,this.afterCloseVar=!1,this.modalSelector=e.modalSelector,this.closeSelector=e.closeSelector,this.modalSpeed=e.modalSpeed,this.openAnimate=e.openAnimate,this.closeAnimate=e.closeAnimate,this.transitionTimingFunction=e.transitionTimingFunction,this.beforeOpen=e.beforeOpen,this.afterOpen=e.afterOpen,this.beforeClose=e.beforeClose,this.afterClose=e.afterClose,this.currentPadding=parseInt($(this.modalSelector).find(".sm-modal-body").css("padding-top").replace("px","")),this.backgroundBlur=e.backgroundBlur,this.backgroundBlurValue=e.backgroundBlurValue,this.overlay=e.overlay,this.verticalCenter=e.verticalCenter,this.closeEsc=e.closeEsc,this.sideModal=e.sideModal,this.adaptiveModal=e.adaptiveModal,void 0===this.closeSelector&&(this.closeSelector=this.modalSettingsDefault.closeSelector),void 0===this.modalSpeed&&(this.modalSpeed=this.modalSettingsDefault.modalSpeed),void 0===this.openAnimate&&(this.openAnimate=this.modalSettingsDefault.openAnimate),void 0===this.closeAnimate&&(this.closeAnimate=this.modalSettingsDefault.closeAnimate),void 0===this.transitionTimingFunction&&(this.transitionTimingFunction=this.modalSettingsDefault.transitionTimingFunction),void 0===this.backgroundBlur&&(this.backgroundBlur=this.modalSettingsDefault.backgroundBlur),void 0===this.backgroundBlurValue&&(this.backgroundBlurValue=this.modalSettingsDefault.backgroundBlurValue),void 0===this.overlay&&(this.overlay=this.modalSettingsDefault.overlay),void 0===this.verticalCenter&&(this.verticalCenter=this.modalSettingsDefault.verticalCenter),void 0===this.closeEsc&&(this.closeEsc=this.modalSettingsDefault.closeEsc),"left"===this.sideModal?$(this.modalSelector).addClass("leftModal"):"right"===this.sideModal&&$(this.modalSelector).addClass("rightModal"),!1===this.verticalCenter&&$(this.modalSelector).find(".sm-modal-wrap").css("align-items","flex-start"),$(this.modalSelector).find(".sm-modal-overlay").attr("style",this.overlay),$(this.modalSelector).css("transition","all 0s "+this.transitionTimingFunction),$(this.modalSelector).find(".sm-modal-contant").css("transition","all 0s "+this.transitionTimingFunction),$(this.modalSelector).removeClass(this.closeAnimate),$(this.modalSelector).addClass(this.openAnimate),!0===this.closeEsc&&$(document).on("keyup",function(e){27===e.keyCode&&$(t.modalSelector).hasClass("active")&&t.closeModal()}),$(this.modalSelector).on("click",".sm-modal-overlay",function(e){t.closeModal()}),$(this.modalSelector+" "+this.closeSelector).off("click").on("click",function(){t.closeModal()}),void 0!==this.adaptiveModal&&($(window).width()+scrollbarWidth()<=this.adaptiveModal&&$(this.modalSelector).removeClass("sm-adaptive"),$(window).on("resize",function(){$(window).width()+scrollbarWidth()<=e.adaptiveModal?$(e.modalSelector).removeClass("sm-adaptive"):$(e.modalSelector).addClass("sm-adaptive")}))}},{key:"openModal",value:function(){(void 0===this.adaptiveModal||$(window).width()+scrollbarWidth()<=this.adaptiveModal)&&this.openSm()}},{key:"openSm",value:function(){var e=this;void 0!==this.beforeOpen&&this.beforeOpen(),0===overModal.length?$(this.modalSelector).css("z-index","5000"):$(this.modalSelector).css("z-index",parseInt(overModal[overModal.length-1])+1),$(this.modalSelector).find(".sm-modal-body").scrollTop(0),!0===this.verticalCenter&&this.fixCenterOnIE(),!0===this.backgroundBlur&&$(this.modalSelector).css("backdrop-filter","blur("+this.backgroundBlurValue+")"),$(this.modalSelector).css("transition","all "+this.modalSpeed+"ms "+this.transitionTimingFunction),$(this.modalSelector).find(".sm-modal-contant").css("transition","all "+this.modalSpeed+"ms "+this.transitionTimingFunction),$(this.modalSelector).removeClass(this.openAnimate).addClass("active"),0===overModal.length&&$("body").css({overflow:"hidden","padding-right":scrollbarWidth()}),overModal.push($(this.modalSelector).css("z-index")),setTimeout(function(){void 0!==e.afterOpen&&e.afterOpen()},this.modalSpeed)}},{key:"closeModal",value:function(){var e=this;void 0!==this.beforeClose&&this.beforeClose(),overModal.pop(),!0===this.backgroundBlur&&$(this.modalSelector).css("backdrop-filter","blur(0px)"),$(this.modalSelector).removeClass(this.openAnimate),$(this.modalSelector).addClass(this.closeAnimate).removeClass("active"),setTimeout(function(){0===overModal.length&&$("body").css({overflow:"auto","padding-right":""}),$(e.modalSelector).css("transition","all 0s "+e.transitionTimingFunction),$(e.modalSelector).find(".sm-modal-contant").css("transition","all 0s "+e.transitionTimingFunction),$(e.modalSelector).removeClass(e.closeAnimate),$(e.modalSelector).addClass(e.openAnimate),void 0!==e.afterClose&&e.afterClose()},this.modalSpeed)}},{key:"fixCenterOnIE",value:function(){var e=window.navigator.userAgent.toLowerCase();1==(/trident/gi.test(e)||/msie/gi.test(e))&&(e=($(window).outerHeight()-$(this.modalSelector).find(".sm-modal-contant").outerHeight())/2,this.currentPadding<e?$(this.modalSelector).find(".sm-modal-body").css("padding",e+"px 0px"):$(this.modalSelector).find(".sm-modal-contant").css("margin-bottom",this.currentPadding+"px"))}}]),t}();function scrollbarWidth(){var e=parseInt(document.documentElement.clientWidth);return parseInt(window.innerWidth)-e}$(".sm-modal").each(function(e){smModals["#"+$(this).attr("id")]=new SmModal({modalSelector:"#"+$(this).attr("id")})});
//# sourceMappingURL=smmodalJq.min.js.map
