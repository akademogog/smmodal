function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var o=0;o<t.length;o++){var l=t[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(e,l.key,l)}}function _createClass(e,t,o){return t&&_defineProperties(e.prototype,t),o&&_defineProperties(e,o),e}var overModal=[],SmModal=function(){function u(e){var t=this;_classCallCheck(this,u);var o=".modal-close",l=500,i="smFade",s="smFade",r="ease",a=!1,n="5px",c="background-color: rgba(0, 0, 0, 0.7)",d=!0,h=!0;this.beforeOpenVar=!1,this.afterOpenVar=!1,this.beforeCloseVar=!1,this.afterCloseVar=!1,this.modalSelector=document.querySelector(e.modalSelector),this.closeSelector=e.closeSelector,this.modalSpeed=e.modalSpeed,this.openAnimate=e.openAnimate,this.closeAnimate=e.closeAnimate,this.transitionTimingFunction=e.transitionTimingFunction,this.beforeOpen=e.beforeOpen,this.afterOpen=e.afterOpen,this.beforeClose=e.beforeClose,this.afterClose=e.afterClose,this.currentPadding=parseInt(window.getComputedStyle(this.modalSelector.querySelectorAll(".sm-modal-wrap")[0])["padding-top"].replace("px","")),this.backgroundBlur=e.backgroundBlur,this.backgroundBlurValue=e.backgroundBlurValue,this.overlay=e.overlay,this.verticalCenter=e.verticalCenter,this.closeEsc=e.closeEsc,this.sideModal=e.sideModal,void 0===this.closeSelector&&(this.closeSelector=o),void 0===this.modalSpeed&&(this.modalSpeed=l),void 0===this.openAnimate&&(this.openAnimate=i),void 0===this.closeAnimate&&(this.closeAnimate=s),void 0===this.transitionTimingFunction&&(this.transitionTimingFunction=r),void 0===this.backgroundBlur&&(this.backgroundBlur=a),void 0===this.backgroundBlurValue&&(this.backgroundBlurValue=n),void 0===this.overlay&&(this.overlay=c),void 0===this.verticalCenter&&(this.verticalCenter=d),void 0===this.closeEsc&&(this.closeEsc=h),"left"===this.sideModal?this.modalSelector.classList.add("leftModal"):"right"===this.sideModal&&this.modalSelector.classList.add("rightModal"),!1===this.verticalCenter&&(this.modalSelector.querySelectorAll(".sm-modal-wrap")[0].style.alignItems="flex-start"),this.modalSelector.querySelectorAll(".sm-modal-wrap")[0].setAttribute("style",this.overlay),this.modalSelector.style.transition="all 0s "+this.transitionTimingFunction,this.modalSelector.querySelectorAll(".sm-modal-contant")[0].style.transition="all 0s "+this.transitionTimingFunction,this.modalSelector.classList.remove(this.closeAnimate),this.modalSelector.classList.add(this.openAnimate),!0===this.closeEsc&&document.addEventListener("keyup",function(e){27===e.keyCode&&t.modalSelector.classList.contains("active")&&t.closeModal()}),this.modalSelector.querySelectorAll(".sm-modal-overlay")[0].addEventListener("click",function(e){t.closeModal()});for(var m=0;m<this.modalSelector.querySelectorAll(this.closeSelector).length;m++)this.modalSelector.querySelectorAll(this.closeSelector)[m].removeEventListener("click",function(){}),this.modalSelector.querySelectorAll(this.closeSelector)[m].addEventListener("click",function(){t.closeModal()})}return _createClass(u,[{key:"openModal",value:function(){var e=this;void 0!==this.beforeOpen&&this.beforeOpen(),0===overModal.length?this.modalSelector.style.cssText+="z-index: 5000;":this.modalSelector.style.cssText+="z-index: "+(parseInt(overModal[overModal.length-1])+1)+";",this.modalSelector.querySelectorAll(".sm-modal-wrap")[0].scrollIntoView({block:"start"}),!0===this.verticalCenter&&this.fixCenterOnIE(),!0===this.backgroundBlur&&(document.querySelectorAll(this.modalSelector)[0].style.cssText+="backdrop-filter: blur("+this.backgroundBlurValue+");"),this.modalSelector.style.cssText+="transition: all "+this.modalSpeed+"ms "+this.transitionTimingFunction+";",this.modalSelector.querySelectorAll(".sm-modal-contant")[0].style.cssText="transition: all "+this.modalSpeed+"ms "+this.transitionTimingFunction+";",this.modalSelector.classList.remove(this.openAnimate),this.modalSelector.classList.add("active"),0===overModal.length&&(document.querySelector("body").style.cssText="overflow: hidden; padding-right: "+scrollbarWidth()+"px;"),overModal.push(window.getComputedStyle(this.modalSelector)["z-index"]),setTimeout(function(){void 0!==e.afterOpen&&e.afterOpen()},this.modalSpeed)}},{key:"closeModal",value:function(){var e=this;void 0!==this.beforeClose&&this.beforeClose(),overModal.pop(),!0===this.backgroundBlur&&(document.querySelectorAll(this.modalSelector).style.cssText="backdrop-filter: blur(0px);"),this.modalSelector.classList.remove(this.openAnimate),this.modalSelector.classList.add(this.closeAnimate),this.modalSelector.classList.remove("active"),setTimeout(function(){0===overModal.length&&document.querySelector("body").removeAttribute("style"),e.modalSelector.style.cssText="transition: all 0s "+e.transitionTimingFunction+";",e.modalSelector.querySelectorAll(".sm-modal-contant")[0].style.cssText="transition: all 0s "+e.transitionTimingFunction+";",e.modalSelector.classList.remove(e.closeAnimate),e.modalSelector.classList.add(e.openAnimate),void 0!==e.afterClose&&e.afterClose()},this.modalSpeed)}},{key:"fixCenterOnIE",value:function(){var e=window.navigator.userAgent.toLowerCase();1==(/trident/gi.test(e)||/msie/gi.test(e))&&(e=(window.innerHeight-this.modalSelector.querySelectorAll(".sm-modal-contant")[0].offsetHeight)/2,this.currentPadding<e?this.modalSelector.querySelectorAll(".sm-modal-wrap")[0].style.cssText+="padding: "+e+"px 0px;":this.modalSelector.querySelectorAll(".sm-modal-contant")[0].style.cssText+="margin-bottom: "+this.currentPadding+"px;")}}]),u}();function scrollbarWidth(){var e=parseInt(document.documentElement.clientWidth);return parseInt(window.innerWidth)-e}
//# sourceMappingURL=smmodalJs.min.js.map
